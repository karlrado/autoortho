{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Instructions","text":""},{"location":"#linux-setup","title":"Linux Setup","text":"<p>Assumptions:</p> <ul> <li>You have installed X-Plane 11.50+</li> <li>You have a reasonably fast CPU and broadband internet </li> <li>FUSE is installed and setup (Enable <code>user_allow_other</code> in /etc/fuse.conf, if not already the case.) </li> </ul>"},{"location":"#steps","title":"Steps:","text":"<ol> <li>Download the most recent packaged release (autortho_lin_####.bin) from here</li> <li>Make executable if needed <code>chmod +x autoortho_lin.bin</code> </li> <li>Run the program <code>./autoortho_lin.bin</code></li> <li>Configure your settings and paths for your system </li> <li>Download and setup an ortho set from the 'Scenery' tab.</li> <li>Click 'Run' to run the program</li> <li>Configure your scenery_packs.ini file appropriately</li> <li>Run X-Plane and choose a location for an ortho set you have downloaded</li> </ol>"},{"location":"#windows-setup","title":"Windows Setup","text":"<p>Assumptions:</p> <ul> <li>You are running 64bit Windows 10+</li> <li>You have install X-Plane 11.50+</li> <li>You have setup and configured either: Dokan or WinFSP</li> <li> <ul> <li>If you have trouble with one, try the other!      Some users on Windows 11 have better luck     with WinFSP for some reason.  Windows users should always attempt both before asking questions on forums!!! </li> </ul> </li> <li> <ul> <li>If both Dokan and WinFSP are installed, Dokan will be preferred.      Users can force preferring WinFSP by setting prefer_winfsp=True in their config file.</li> </ul> </li> <li>You install all components, including scenery, on a local NTFS drive.</li> </ul>"},{"location":"#zip-file-steps","title":"Zip File Steps:","text":"<ol> <li>Download the most recent packaged release (autoortho_win_####.zip) from here</li> <li>Extract the downloaded directory.</li> <li>Run <code>autoortho_win.exe</code> from within the extracted dir.</li> <li>Configure your settings and paths for your system </li> <li>Download and setup an ortho set from the 'Scenery' tab.</li> <li>Click 'Run' to run the program</li> <li>Configure your scenery_packs.ini file appropriately </li> <li>Run X-Plane and choose a location for an ortho set you have downloaded</li> </ol>"},{"location":"#experimental-installer-steps","title":"Experimental Installer Steps:","text":"<p>Alternatively, there is now an installer that can be used.  This is experimental ATM:</p> <ol> <li>Download the most recent packaged release (AutoOrtho_####.exe) from here</li> <li>Run the program.</li> <li>If there is a prior install you will be prompted to uninstall first.  Do    this.</li> <li>Run AutoOrtho from your system start menu.</li> <li>Configure your settings and paths for your system </li> <li>Download and setup an ortho set from the 'Scenery' tab.</li> <li>Click 'Run' to run the program</li> <li>Configure your scenery_packs.ini file appropriately </li> <li>Run X-Plane and choose a location for an ortho set you have downloaded</li> </ol>"},{"location":"#macos-setup","title":"MacOS Setup","text":"<p>Assumptions:</p> <ul> <li>You have installed X-Plane 11.50+</li> <li>You have an Apple Silicon Computer (AutoOrtho Mac only supports arm64)</li> <li>FUSE is installed, MacFuse and Fuse-T are supported. </li> </ul>"},{"location":"#steps_1","title":"Steps:","text":"<ol> <li>If you haven't install MacFuse or Fuse-T. Fuse-T was used for testing the mac binary but both should work.</li> <li>Download the most recent packaged release (autortho_mac_####.zip) from here</li> <li>Unzip on the location you want.</li> <li>Run the program <code>AutoOrtho.app</code></li> <li> <p>Important: macOS Quarantine Warning - This program is currently unsigned. On first run, macOS will block it from opening. You have two options to fix this:</p> <p>Option A (Recommended): Remove the quarantine attribute using Terminal: <code>bash xattr -d com.apple.quarantine /path/to/AutoOrtho.app</code> Tip: You can drag the AutoOrtho.app onto the Terminal window to auto-fill the path.</p> <p>Option B: Use System Settings: - Go to Settings \u2192 Privacy and Security - Scroll down to find the message about <code>AutoOrtho.app</code> being blocked - Click Open Anyway</p> </li> <li> <p>Configure your settings and paths for your system </p> </li> <li>Download and setup an ortho set from the 'Scenery' tab.</li> <li>Click 'Run' to run the program</li> <li>Configure your scenery_packs.ini file appropriately</li> <li>Run X-Plane and choose a location for an ortho set you have downloaded</li> </ol>"},{"location":"#configuring-your-scenery_packsini","title":"Configuring your scenery_packs.ini","text":"<p>Use this image as a guide on how to order your X-Plane packages within the scenery_packs.ini file.</p> <p>scenery_packs.ini_config</p>"},{"location":"#requirements-and-compatibility","title":"Requirements and Compatibility","text":"<p>To run from source, this project requires python3.x and all pre-requisites in the <code>requirements.txt</code> file.  Also, a copy of X-Plane 11.50+ of course.</p> <p>Most testing is done on Ubuntu 22.04 using FUSE.  Other Linux flavors ought to work as well.  MacOS very likely should work, but I have no way of testing it.</p> <p>I have done testing on Windows 10 with the Dokan project. This does appear to work fine, but this is not how I use this project, so it's not my primary concern.</p>"},{"location":"#performance-features","title":"Performance Features","text":"<p>AutoOrtho includes advanced performance optimizations to minimize stuttering and reduce loading times:</p>"},{"location":"#native-pipeline-high-performance-mode","title":"Native Pipeline (High Performance Mode)","text":"<p>AutoOrtho includes a native C pipeline that dramatically improves DDS texture building performance by bypassing Python's Global Interpreter Lock:</p> <ul> <li>10-20x faster DDS texture building</li> <li>True multi-core parallelism via OpenMP</li> <li>Native HTTP client with connection pooling for faster downloads</li> </ul> <p>The native pipeline is automatically used when available. See the Performance Tuning Guide for details.</p> <p>Note: Apple Maps downloads always use the Python HTTP client due to its special authentication requirements. Other imagery sources use the faster native client.</p>"},{"location":"#additional-features","title":"Additional Features","text":"<ul> <li>Spatial Prefetching: Downloads tiles ahead of your aircraft</li> <li>SimBrief Integration: Uses your flight plan for smarter prefetching</li> <li>Dynamic Zoom: Automatically adjusts quality based on altitude</li> <li>Time Budget System: Predictable tile loading times</li> </ul> <p>See the Performance Tuning Guide for configuration options.</p>"},{"location":"#known-issues-and-limits","title":"Known issues and limits","text":"<ul> <li>Currently I try to limit the memory usage, though it's possible it   will exceed this in certain scenarios.</li> <li>Not really possible to post-process the satellite photos.  You get what you   get.</li> <li>Will add a couple minutes to initial flight time for new areas.  That's to   be expected though.</li> <li>Will require and use a lot of internet requests (surprise!) and writes a lot of small files locally.   There are many parts along your path that may need tuning or may not like this (ISP, DNS, Wifi, drive speed, CPU speed, etc).   User's should be ready to diagnose their specific setup and determine if this project fits withing their own personal computing requirements.</li> <li>Windows has too many variations with how filesystems are handled, links are   done, intrusive malware detection systems, etc and will likely always be   slower and more difficult to use with this project.</li> <li>Apple Maps always uses Python HTTP client (not native) due to special authentication requirements.</li> </ul>"},{"location":"#todos","title":"TODOS","text":"<ul> <li>~See if this will work on Windows with WinFSP~ </li> <li>~Allow for overriding the satellite source type.  Since this pulls on the fly, we aren't stuck with what was setup initially with Ortho4XP.~</li> <li>~Package a set of DSF files to get started with~</li> <li>Attempt to make a workable OSX version</li> </ul>"},{"location":"#warnings-warranty-etc","title":"Warnings, Warranty, etc","text":"<p>This project is provided free of charge and is not warrantied in any way.  Use at your own risk.</p> <p>Accessing map data from 3rd parties may or may not be allowed and is up to you the end user to determine and use appropriately.</p>"},{"location":"config/","title":"Configuration","text":"<p>Setup and configuration for most use cases should be pretty simple. The important settings are:</p> <ul> <li>Scenery install path</li> <li>X-Plane install path</li> <li>Downloader directory</li> </ul>"},{"location":"config/#scenery-install-path","title":"Scenery install path","text":"<p>This is the location that scenery will be installed to.  Previously this defaulted to a user's existing X-Plane Custom Scenery directory, but that is no longer the case.  </p> <p>It should be possible to set this to a convenient location with enough room to install scenery packages.  Each scenery package can take around 20-30GB.</p> <p>This can be an external NAS or separate drive, but I have not tried all drive combinations.  Speed of external storage will naturally impact performance to a certain degree.  Plan accordingly.</p>"},{"location":"config/#x-plane-install-path","title":"X-Plane install path","text":"<p>This is the X-Plane install location.  Under this directory should be X-Plane's <code>Custom Scenery</code> directory.  IT IS IMPORTANT THIS IS THE CORRECT LOCATION</p> <p>From this directory AutoOrtho will create mount points and run the program.</p> <p>IF THIS IS NOT CORRECT THINGS WILL NOT WORK RIGHT</p>"},{"location":"config/#download-directory","title":"Download directory","text":"<p>This is the path that will be used to temporarily store zip files and other fetched files for scenery setup.  By default this will be in under the user's home dir under <code>.autoortho-data/downloads</code></p> <p>For Windows users, it is highly recommended to set a Windows Defender exception to this directory otherwise expect VERY slow setup of scenery.</p> <p>This folder can be set to any convenient location with enough space for scenery downloads (20-30GB per).</p>"},{"location":"config/#user-config-file-location","title":"User config file location","text":"<p>The configuration file <code>.autoortho</code> is located in the user's home directory.  </p>"},{"location":"config/#performance-tuning","title":"Performance Tuning","text":"<p>AutoOrtho includes advanced performance settings that allow you to balance image quality against loading times and stuttering. These settings are available in the Settings tab under \"Performance Tuning\".</p> <p>Key settings include: - Tile Time Budget - Maximum time to wait for a tile before returning results - Fallback Level - How aggressively to find replacement imagery for failed chunks - Spatial Prefetching - Proactively download tiles ahead of your aircraft - Dynamic Zoom Levels - Automatically adjust imagery quality based on altitude</p> <p>For detailed configuration options and recommended settings for different use cases, see the Performance Tuning Guide.</p> <p>For troubleshooting missing tiles or stuttering issues, see the FAQ.</p>"},{"location":"config/#native-pipeline-settings","title":"Native Pipeline Settings","text":"<p>AutoOrtho includes a high-performance native pipeline that significantly improves DDS texture building speed. These settings control the native components.</p>"},{"location":"config/#native-pipeline-threads-native_pipeline_threads","title":"Native Pipeline Threads (<code>native_pipeline_threads</code>)","text":"<ul> <li>Type: Integer</li> <li>Default: 0 (auto-detect)</li> <li>Config file: <code>native_pipeline_threads = 0</code></li> </ul> <p>Controls how many CPU threads the native pipeline uses for parallel operations (cache I/O, JPEG decoding, DDS compression).</p> Value Behavior 0 Auto-detect CPU cores, use all available (recommended) 1 Single-threaded mode (lowest CPU usage, slowest builds) 2-N Limit to N threads (balance performance vs other apps) <p>Recommendation: Leave at 0 unless you need to limit CPU usage for other applications.</p>"},{"location":"config/#predictive-dds-disk-cache-ephemeral_dds_cache_mb","title":"Predictive DDS Disk Cache (<code>ephemeral_dds_cache_mb</code>)","text":"<ul> <li>Type: Integer (megabytes)</li> <li>Default: 4096</li> <li>Range: 1024 - 16384</li> <li>Config file: <code>ephemeral_dds_cache_mb = 4096</code></li> </ul> <p>Size of the disk cache for pre-built DDS textures. The predictive DDS system builds tiles in the background and stores them on disk for instant serving when X-Plane requests them.</p> Value Behavior 1024-4096 Balanced - good for most systems 8192 Large flights - covers more waypoints 16384 Maximum capacity - long-haul flights <p>Why disk-only caching?</p> <p>AutoOrtho uses disk-only caching (no dedicated RAM cache) because: - SSD reads are fast enough: Reading a pre-built DDS from disk takes ~1-2ms, which is negligible compared to the ~100-500ms build time it saves - OS file cache handles hot files: Your operating system automatically keeps frequently accessed files in RAM - Simpler memory management: No need to configure RAM limits - the OS handles it naturally - Session-based: Cache is fresh every session, avoiding stale texture issues</p> <p>Key properties: - Uses OS temp directory (not your JPEG cache) - Automatically cleaned when AutoOrtho exits - Fresh cache every session (no stale tiles) - OS file cache keeps hot files in RAM automatically</p> <p>Recommendation: 4096MB for most users. Increase to 8192-16384MB for long-haul flights covering many tiles.</p>"},{"location":"config/#apple-maps-caveat","title":"Apple Maps Caveat","text":"<p>When using Apple Maps (<code>APPLE</code>) as your imagery source, downloads always use the Python HTTP client instead of the native libcurl client. This is because Apple Maps requires: - Dynamic authentication tokens - Token refresh on 403/410 errors - Special header handling</p> <p>Other imagery sources (BI, EOX, ARC, NAIP, USGS, FIREFLY, YNDX, GO2) use the faster native HTTP client when available.</p> <p>See the Performance Tuning Guide for detailed architecture information.</p>"},{"location":"config/#dynamic-zoom-levels","title":"Dynamic Zoom Levels","text":"<p>AutoOrtho can automatically adjust imagery zoom levels based on your altitude Above Ground Level (AGL). This provides: - Higher detail imagery when flying low - Lower detail (faster loading) imagery at high altitudes - Terrain-aware calculations \u2014 flying at 10,000ft MSL over 5,000ft mountains uses higher quality than 10,000ft over ocean</p> <p>Configure quality steps in Settings \u2192 Imagery \u2192 Dynamic Zoom Mode.</p> <p>See the Performance Tuning Guide for detailed configuration.</p>"},{"location":"config/#simbrief-integration","title":"SimBrief Integration","text":"<p>AutoOrtho can integrate with your SimBrief account to use your flight plan data for: - Dynamic Zoom: Use planned altitudes at waypoints instead of velocity predictions - Prefetching: Download tiles along your actual flight path, prioritized by time-to-encounter using SimBrief's calculated flight times</p> <p>To set up SimBrief integration: 1. Go to Settings \u2192 Setup tab 2. Enter your SimBrief User ID 3. Click Fetch Flight Data after filing your flight plan 4. Enable the toggle to use flight data for calculations 5. Optionally adjust the Route Calculation Settings that appear below the toggle</p>"},{"location":"config/#route-calculation-settings","title":"Route Calculation Settings","text":"<p>When flight data is loaded and the \"Use Flight Data\" toggle is enabled, additional settings become available:</p> Setting Description Route Consideration Radius How far (nm) to look for waypoints when calculating tile altitude. Larger values are more conservative. Route Deviation Threshold Maximum distance (nm) off-route before falling back to DataRef-based calculations. Route Prefetch Radius How far (nm) perpendicular to your route to prefetch tiles. The path is sampled uniformly along the route; this controls the width of coverage. <p>\u2139 Real-time Changes: These settings take effect immediately when modified \u2014 no restart required. Use Save Config to persist your values for future sessions.</p> <p>See the Performance Tuning Guide for detailed information and limitations.</p>"},{"location":"details/","title":"Approach","text":"<p>There does not appear to be a way to hook directly into the internal texture loading mechanism of X-Plane via plugins.  Instead, this project acts as a virtual file system interface for orthophoto satellite imagery.</p> <p>As needed, imagery is downloaded from the indicated satellite photo sources as areas are requested.  Imagery files are detected by naming convention of <code>{row}_{col}_{maptype}_{zoomlevel}.dds</code>  This is the standard convention for imagery created from Ortho4XP.</p>"},{"location":"details/#how-does-x-plane-access-scenery","title":"How does X-Plane access scenery?","text":"<p>Let's look at how X-Plane accesses scenery.  In the install directory of X-Plane there will be a <code>Custom Scenery</code> folder.  Under this folder there will be a number of sub directories of scenery and a <code>scenery_packs.ini</code> configuration file.  This is where X-Plane will look for scenery.</p> <p>Under each scenery subdirectory, there will be an <code>Earth Nav Data</code> directory that contains a number of lat-lon named subdirectories.  Under these subdirectories will be a number of DSF files that contain instructions for X-Plane for this set of coordinates.</p> <p>These DSF files are picked up by X-Plane based on the area that you are flying.  During flight initialization a set of these files around your takeoff location are loaded.  While flying new DSF files will be loaded.  This loading while flying happens asynchronously behind the scenes.</p> <p>The DSF files can contain various instructions for X-Plane.  What we are interested in for orthophotos are terrain files.  The terrain files a DSF contains would then point to the textures requested for this terrain, including satellite photo textures.  These files are typically <code>.dds</code> files, though that's not always the case.</p> <p>DDS files can contain multiple copies of the same texture at reduced resolutions.  These are referred to as 'mipmaps'.  This allows X-Plane to just pull in the minimum amount of data that is required into memory at any given time.  Typically the maximum resolution for a texture is only required while flying low and for close by tetxures.</p>"},{"location":"details/#how-this-project-leverages-this-setup-high-level-description","title":"How this project leverages this setup (high level description)","text":"<p>This project effectively requires all the parts of normal orthophoto satellite imagery, except for the satellite photos themselves.</p> <p>Existing mechanisms to create and manage DSF files, and related terrain files, still applies.  X-Plane continues to reference these files as per normal.</p> <p>This program will detect when DDS files are accessed and read from X-Plane. When X-Plane attempts to read a specific mipmap of a texture this program will pull down just the minimum required data and return this data to X-Plane. This happens behind the scenes and as far as X-Plane is concerned, it is continuing to read a normal filesystem.</p> <p>Since we only download the minimum required data, this process is relatively efficient.</p> <p>Data is cached in memory until a memory limit is reached, at which time older data will be purged.</p>"},{"location":"details/#expert-usage-and-overriding-defaults","title":"Expert Usage and Overriding Defaults","text":""},{"location":"details/#warning","title":"Warning","text":"<p>I highly recommend using the pre-packaged scenery packs provided with this tool.  </p> <p>However, it's entirely possible to use your own scenery, if you wish.  This could be useful for situations where you want an area I haven't gotten to packaging yet, or want a different zoom level that what is provided.</p> <p>This should be considered an experts-only feature though and assumes: * You are very comfortable with the command line * You are very experienced using Ortho4XP and with installing custom scenery * You are very familiar with filesystem concepts and managing your Operating   System</p> <p>If you don't have this experience, that's okay, but likely you will struggle adding your own custom created scenery.  I would recommend that you familiarize yourself with each of these listed items before proceeding.</p>"},{"location":"details/#adding-your-own-created-sceneries","title":"Adding your own created sceneries","text":"<p>Ready to add your own sceneries? Great!</p> <p>So as mentioned above, this tool effectively overrides the 'textures' directory that XPlane is pointing to in order to location satellite imagery that is referrenced by a scenery pack's terrain files.</p> <p>Due to how XPlane identifies terrain information, these directories have been split up into reasonable sized pieces, which is why each provided scenery pack has numerous numbered directories. </p> <p>This project creates a special pass through filesystem that mounts directories into a location that XPlane can find and intercepts requests to '.dds' files.  This is handled through the magic of FUSE (Filesystem in UserSpacE).  FUSE is a common and standard feature of Linux, but requires extra stuff for other Operatings Systems.s</p> <p>Sceneries stripped of satellite imagery, likely still have coastline PNG files that must be preserved.  These are simply passed through when requested.</p> <p>You can take advantage of this setup for your own scenery that you have packaged: * Place your scenery directory in <code>Custom Scenery/z_autoortho/scenery</code></p> <p>When execute Autoortho will detect directories in that scenery dir and mount these in your configured <code>Custom Scenery</code> directory.</p>"},{"location":"details/#ortho4xp-usage-tips","title":"Ortho4XP Usage Tips","text":"<p>Ortho4XP can generate scenery files without downloading photos, which is perfect for this project.  In the config set <code>skip_downloads</code> to <code>True</code></p> <p>Since this starts with low resolution imagery until you get going, I recommend enabling <code>high_zl_airports</code></p> <p>So far I've been testing with a ZL of 16 for most tiles with increased ZL of 18 for airports.  You may have want to play around with the ZL levels for best results.</p> <p>Higher zoom levels will lead to increased resource usage and longer delays initially starting up flights.</p>"},{"location":"details/#building-from-source","title":"Building from Source","text":""},{"location":"details/#build-system","title":"Build System","text":"<p>AutoOrtho uses PyInstaller to create standalone executables for all platforms (Linux, Windows, macOS). PyInstaller bundles the Python interpreter and all dependencies into a single distributable package.</p>"},{"location":"details/#requirements","title":"Requirements","text":"<p>Install build dependencies:</p> <pre><code>pip install -r requirements.txt\npip install -r requirements-build.txt\n</code></pre>"},{"location":"details/#building-the-native-pipeline","title":"Building the Native Pipeline","text":"<p>The native pipeline (<code>aopipeline</code>) requires additional dependencies and must be built separately for each platform.</p>"},{"location":"details/#macos-arm64x86_64","title":"macOS (ARM64/x86_64)","text":"<p>Prerequisites:</p> <pre><code>brew install libomp jpeg-turbo curl\n</code></pre> <p>Build:</p> <pre><code>cd autoortho/aopipeline\nmake -f Makefile.macos\n# Output: lib/macos/libaopipeline.dylib\n</code></pre>"},{"location":"details/#linux","title":"Linux","text":"<p>Prerequisites:</p> <pre><code># Debian/Ubuntu\nsudo apt-get install libomp-dev libturbojpeg0-dev libcurl4-openssl-dev\n\n# Fedora/RHEL\nsudo dnf install libomp-devel turbojpeg-devel libcurl-devel\n</code></pre> <p>Build:</p> <pre><code>cd autoortho/aopipeline\nmake -f Makefile.linux\n# Output: lib/linux/libaopipeline.so\n</code></pre>"},{"location":"details/#windows-mingw-w64","title":"Windows (MinGW-w64)","text":"<p>Prerequisites: - MinGW-w64 toolchain - TurboJPEG library - libcurl for Windows</p> <p>Build:</p> <pre><code>cd autoortho/aopipeline\nmake -f Makefile.mingw64\n# Output: lib/windows/aopipeline.dll\n</code></pre>"},{"location":"details/#native-pipeline-components","title":"Native Pipeline Components","text":"Component Dependencies Purpose <code>aocache.c</code> OpenMP Parallel batch file I/O <code>aodecode.c</code> TurboJPEG, OpenMP Parallel JPEG decoding <code>aodds.c</code> ISPC texcomp, OpenMP DDS texture compression <code>aohttp.c</code> libcurl Native HTTP client"},{"location":"details/#fallback-behavior","title":"Fallback Behavior","text":"<p>If the native library is not available: - AutoOrtho automatically falls back to the Python implementation - All functionality works, just slower for CPU-intensive operations - Log messages indicate which path is used</p>"},{"location":"details/#building-the-application","title":"Building the Application","text":"<p>The <code>Makefile</code> provides targets for each platform:</p> <pre><code># Linux (creates .tar.gz)\nmake lin_tar VERSION=1.0.0\n\n# macOS (creates .app bundle and .zip)\nmake mac_app VERSION=1.0.0\nmake mac_zip VERSION=1.0.0\n\n# Windows (creates installer .exe and .zip)\nmake win_exe VERSION=1.0.0\nmake win_zip VERSION=1.0.0\n</code></pre>"},{"location":"details/#output-structure","title":"Output Structure","text":"<p>PyInstaller creates a bundled application with the following structure:</p> <ul> <li>Executable: The main binary (<code>autoortho</code>, <code>autoortho.exe</code>)</li> <li><code>ao_files/</code> folder: Contains the Python runtime, compiled bytecode, and all dependencies</li> </ul> <p>The <code>ao_files</code> folder is essential for the application to run. It replaces PyInstaller's default <code>_internal</code> folder with a more descriptive name.</p>"},{"location":"details/#development","title":"Development","text":"<p>To run from source without building:</p> <pre><code>python -m autoortho\n</code></pre>"},{"location":"faq/","title":"FAQ and Troubleshooting","text":""},{"location":"faq/#application-file-structure","title":"Application File Structure","text":""},{"location":"faq/#important-do-not-delete-the-ao_files-folder","title":"Important: Do NOT delete the <code>ao_files</code> folder!","text":"<p>When you extract AutoOrtho (Windows zip or macOS app), you'll see a folder structure like this:</p> <p>Windows (zip extraction):</p> <pre><code>autoortho_release/\n\u251c\u2500\u2500 autoortho.exe          \u2190 Main executable\n\u251c\u2500\u2500 ao_files/              \u2190 REQUIRED - Contains Python runtime and dependencies\n\u2502   \u251c\u2500\u2500 (many files...)\n\u2502   \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 ...\n</code></pre> <p>macOS (app bundle):</p> <pre><code>AutoOrtho.app/\n\u2514\u2500\u2500 Contents/\n    \u251c\u2500\u2500 MacOS/\n    \u2502   \u251c\u2500\u2500 autoortho      \u2190 Main executable\n    \u2502   \u2514\u2500\u2500 ao_files/      \u2190 REQUIRED - Contains Python runtime and dependencies\n    \u2514\u2500\u2500 ...\n</code></pre> <p>The <code>ao_files</code> folder contains the bundled Python interpreter and all required libraries. If you delete this folder, AutoOrtho will not work!</p> <p>Common mistakes: - Moving only the <code>.exe</code> file to another location (without <code>ao_files</code>) - \"Cleaning up\" by deleting folders that look like temporary files - Anti-virus software quarantining files from this folder</p> <p>If AutoOrtho suddenly stops working after it previously worked, check that the <code>ao_files</code> folder is intact and in the same directory as the executable.</p>"},{"location":"faq/#general-issues","title":"General Issues","text":""},{"location":"faq/#i-see-occasional-blurry-andor-green-missing-color-tiles","title":"I see occasional blurry and/or green (missing color) tiles","text":"<p>Missing color tiles (typically green) occur when AutoOrtho cannot retrieve imagery within the time budget. This section explains why this happens and how to minimize it.</p>"},{"location":"faq/#why-do-missing-color-tiles-happen","title":"Why do missing color tiles happen?","text":"<ol> <li>Time Budget Exhaustion: Each tile request has a time limit. If chunks don't download in time, they may appear as missing color.</li> <li>Network Issues: Slow or unreliable internet connections cause downloads to timeout.</li> <li>Server Issues: The imagery servers may be slow or temporarily unavailable.</li> <li>CPU Limitations: If your CPU can't decode images fast enough, chunks may not complete in time.</li> </ol>"},{"location":"faq/#how-to-minimize-missing-color-tiles","title":"How to minimize missing color tiles","text":"<p>Option 1 - Lower Zoom Level (Most Effective): Each zoom level requires 4\u00d7 more resources. Lowering your max zoom dramatically reduces missing tiles: 1. Open AutoOrtho Settings 2. Lower \"Max Zoom Level\" from ZL17/18 to ZL16 or ZL15 3. This reduces chunks per tile from 1024/4096 down to 256/64</p> <p>Option 2 - Increase Time Budget: 1. Open AutoOrtho Settings 2. Go to the Settings tab \u2192 Performance Tuning section 3. Increase \"Tile Time Budget\" to 15-20 seconds 4. This gives more time for chunks to download</p> <p>Option 3 - Enable Full Fallbacks: 1. Set \"Fallback Level\" to \"Full (Best Quality)\" 2. Enable \"Allow fallbacks to extend time budget\" 3. This allows AutoOrtho to download lower-detail alternatives when high-detail fails</p> <p>Recommended settings for minimal missing tiles:</p> <pre><code>maptype_override_zoom = 16\nuse_time_budget = True\ntile_time_budget = 300.0\nfallback_level = full\nfallback_extends_budget = True\n</code></pre> <p>Trade-off Warning: Higher time budgets and extended fallbacks may cause longer loading times and occasional stuttering. See the Performance Tuning Guide for a detailed explanation of the quality vs. speed trade-off.</p>"},{"location":"faq/#why-are-there-so-many-missing-tiles-even-with-full-fallback-enabled","title":"Why are there so many missing tiles even with \"Full\" fallback enabled?","text":"<p>If you're seeing many missing tiles with <code>fallback_level = full</code>, check these:</p> <ol> <li> <p>Budget still limiting fallbacks: By default, even with \"full\" fallbacks, network fallbacks respect the time budget. Enable \"Allow fallbacks to extend time budget\" (<code>fallback_extends_budget = True</code>) to let fallbacks continue after the budget is exhausted.</p> </li> <li> <p>New area without cache: The first time you fly over an area, there's no cached data for fallbacks to use. Fly the same route again and you should see fewer missing tiles.</p> </li> <li> <p>All fallbacks failing: In rare cases (server issues, network problems), all fallback levels may fail. Check the AutoOrtho logs for error messages.</p> </li> </ol>"},{"location":"faq/#how-do-i-get-the-smoothest-flying-experience-with-minimal-stutters","title":"How do I get the smoothest flying experience with minimal stutters?","text":"<p>Stuttering occurs when X-Plane waits for AutoOrtho to provide imagery. To minimize stutters:</p> <ol> <li>Use Time Budget System: Keep <code>use_time_budget = True</code> (default)</li> <li>Use reasonable budget: Set <code>tile_time_budget</code> to 180-300 seconds</li> <li>Use cache-only fallbacks: Set <code>fallback_level = cache</code> to avoid network delays during fallbacks</li> <li>Enable prefetching: Keep <code>prefetch_enabled = True</code> to download tiles ahead of your aircraft</li> <li>Increase prefetch lookahead: Set <code>prefetch_lookahead = 30</code> or higher for faster aircraft</li> </ol> <p>Recommended settings for stutter-free flying:</p> <pre><code>use_time_budget = True\ntile_time_budget = 180\nfallback_level = cache\nfallback_extends_budget = False\nprefetch_enabled = True\nprefetch_lookahead = 30\nmax_zoom_level = 16\n</code></pre> <p>Trade-off: You may see occasional blurry or missing tiles, but your flight will be smoother.</p>"},{"location":"faq/#why-does-loading-take-so-long-at-startup","title":"Why does loading take so long at startup?","text":"<p>At startup, X-Plane requests the initial scenery tiles. Loading time depends on:</p> <ol> <li>Zoom level (biggest factor): Each zoom level increase requires 4\u00d7 more resources</li> <li>Number of tiles: More tiles = more total work</li> <li>Network speed: Slower connections = longer downloads</li> <li>CPU speed: Slower CPUs = longer decode/compress times</li> <li>Time budget: Higher budgets = more time spent per tile</li> </ol> <p>To speed up startup: - Lower your Max Zoom Level - This has the biggest impact! ZL16\u2192ZL15 is 4\u00d7 faster - Use a lower <code>tile_time_budget</code> (180-300 seconds) - Enable <code>suspend_maxwait = True</code> to use extended timeouts only during startup - The second time you load the same area will be faster (cached data)</p> <p>Zoom Level Resource Scaling: | Zoom | Chunks/Tile | Relative Load Time | |------|-------------|-------------------| | ZL15 | 64 | 1\u00d7 (baseline) | | ZL16 | 256 | 4\u00d7 | | ZL17 | 1024 | 16\u00d7 | | ZL18 | 4096 | 64\u00d7 |</p> <p>See the Performance Tuning Guide for detailed zoom level recommendations.</p>"},{"location":"faq/#what-do-the-performance-tuning-settings-mean","title":"What do the Performance Tuning settings mean?","text":"Setting What it controls Tile Time Budget Total seconds to wait for a tile before returning partial results Fallback Level How aggressively to find replacement imagery for failed chunks Fallback Extends Budget Whether to continue network fallbacks after budget is exhausted Prefetch Enabled Whether to download tiles ahead of your aircraft Prefetch Lookahead How many seconds of flight time to prefetch ahead <p>For detailed explanations, see the Performance Tuning Guide.</p>"},{"location":"faq/#what-is-the-native-pipeline-and-do-i-need-it","title":"What is the Native Pipeline and do I need it?","text":"<p>The native pipeline (<code>aopipeline</code>) is an optional high-performance component that dramatically speeds up DDS texture building (10-20x faster). It's written in C and uses true multi-threading via OpenMP.</p> <p>Do you need it?  - If it's available for your platform (included in releases), it's used automatically - If not available, AutoOrtho falls back to the Python implementation - All features work either way; native is just faster</p> <p>Benefit: Significantly fewer stutters, especially during initial scenery load or when flying fast/low.</p> <p>See the Native Pipeline Architecture for technical details.</p>"},{"location":"faq/#why-are-apple-maps-downloads-slower-than-other-sources","title":"Why are Apple Maps downloads slower than other sources?","text":"<p>Apple Maps always uses the Python HTTP client, not the native libcurl client. This is intentional because Apple Maps requires:</p> <ol> <li>Dynamic authentication: Tokens must be fetched via DuckDuckGo proxy</li> <li>Token rotation: On 403/410 errors, the token must be refreshed</li> <li>Special headers: Requires <code>Authorization: Bearer</code> headers</li> </ol> <p>The Python path handles all this authentication flow correctly. Other imagery sources (BI, EOX, ARC, NAIP, USGS, FIREFLY, YNDX, GO2) use the faster native HTTP client.</p> <p>Impact: Apple Maps initial loading may be 2-3x slower than other sources. Once cached, performance is identical.</p> <p>Workaround: Consider using an alternative imagery source if download speed is critical.</p>"},{"location":"faq/#i-changed-the-settings-but-nothing-seems-different","title":"I changed the settings but nothing seems different","text":"<ol> <li>Restart AutoOrtho: Some settings require a restart to take effect</li> <li>Clear cache: Old cached data may affect results. Try clearing the cache</li> <li>Fly a new route: Cached areas will use existing data. Try an area you haven't visited</li> <li>Check config file: Verify your <code>~/.autoortho</code> file has the expected values</li> </ol>"},{"location":"faq/#whats-the-difference-between-maxwait-and-tile_time_budget","title":"What's the difference between maxwait and tile_time_budget?","text":"Setting Scope Behavior <code>maxwait</code> (legacy) Per-chunk timeout Each of 256 chunks waits up to this long <code>tile_time_budget</code> (new) Whole-tile budget Total wall-clock time for entire tile request <p>Example: With <code>maxwait = 1.5s</code> and 256 chunks: - Worst case: 256 \u00d7 1.5s = 384 seconds (due to serial execution) - Actual time varies widely based on parallelism</p> <p>Example: With <code>tile_time_budget = 180s</code>: - Always release a tile to X-Plane within 180 seconds (predictable) - May have some missing chunks if network is slow or zoom level is high</p> <p>Recommendation: Keep <code>use_time_budget = True</code> to use the new predictable system.</p>"},{"location":"faq/#time-exclusion-re-activated-after-scenery-reload","title":"Time exclusion re-activated after scenery reload","text":"<p>Symptom: You have \"Default to Exclusion\" enabled, the exclusion correctly deactivated when sim time showed daytime, but after triggering \"Reload Scenery\" the exclusion incorrectly re-activated and you see global scenery instead of orthos.</p> <p>Solution: This issue has been fixed. AutoOrtho now preserves the exclusion decision made based on actual sim time during temporary disconnections (like scenery reload).</p> <p>If you're still experiencing this issue: 1. Make sure you're running the latest version of AutoOrtho 2. If the state seems \"stuck\", restart AutoOrtho to reset to the default behavior</p> <p>Technical details: When X-Plane reloads scenery, the UDP connection temporarily disconnects, making sim time unavailable. AutoOrtho now remembers the last decision made with real sim time and uses it during these brief disconnections, rather than falling back to the <code>default_to_exclusion</code> setting.</p> <p>See Time Exclusion - Decision Preservation for more details.</p>"},{"location":"faq/#i-see-a-messge-in-the-logs-but-otherwise-things-work-fine","title":"I see a messge in the logs, but otherwise things work fine.","text":"<p>The log will log various things, typically info and warnings can be ignored unless other issues are seen.</p>"},{"location":"faq/#in-xplane-i-get-an-error-like-failed-to-find-resource-textures22304_34976_bi16dds-referenced-from-file-custom-sceneryz_eur_11terrain","title":"In XPlane I get an error like <code>Failed to find resource '../textures/22304_34976_BI16.dds', referenced from file 'Custom Scenery/z_eur_11/terrain/'.</code>","text":"<p>What's happening is that X-Plane has found a terrain file, but is not finding a linked texture.  This could be caused by a few issues:</p> <ul> <li>AutoOrtho isn't running</li> <li>You may have broken the links from your texture directories to the AutoOrtho mount location. Perhaps you manually moved around directories after downloading these from the configuration utility.</li> <li>The directory AutoOrtho is configured to run from is now different from the directory links the scenery packs point to.</li> <li>On Windows 11 try uninstalling Dokan (and reboot) and install WinFSP     instead. Or vice versa.</li> </ul> <p>First verify that AutoOrtho is running and there are no obvious errors shown in a log.  If it is running then verify that all the directory links are correct, and consider simply cleaning up and reinstalling scenery from scratch, keeping a consistent 'Custom Scenery' directory configured.</p> <p>If in doubt, re-install the scenery packs.</p>"},{"location":"faq/#something-went-wrong-with-scenery-setup-and-id-like-to-start-again-how-do-i-reinstall","title":"Something went wrong with scenery setup and I'd like to start again.  How do I reinstall?","text":"<p>AutoOrtho checks for metadata for installed scenery packs in <code>Custom Scenery/z_autoorth/**_info.json</code>  Where '**' is a shortname for each scenery pack installed.  You can delete the corresponding .json file, and re-run the configuration utility and should be able to reinstall the scenery pack</p>"},{"location":"faq/#i-installed-scenery-setup-custom-scenery-and-clicked-run-but-x-plane-did-not-automatically-startup","title":"I installed scenery, setup Custom Scenery, and clicked 'Run' but X-Plane did not automatically startup","text":"<p>You have to start X-Plane separately from this tool.  It's also best to start X-Plane after starting autoortho so that all new files and directories are picked up.</p>"},{"location":"faq/#linux-issues","title":"Linux Issues","text":""},{"location":"faq/#ioerror-errno-24-too-many-open-files","title":"IOError: [Errno 24] Too Many Open Files","text":"<p>On some Linux distrubtions they set the minimum open files limits. This is 1024. Since AutoOrtho is modifying and creating a large number of files at the same time, it can easily hit this limit.</p> <p>To confirm Run the following command and see if the result is in the 4,096 at a minumum. 'ulimit -n'</p> <p>While doing this you can also check the hard limit thats system wide. This should be in the 100,000s or millions in most cases. 'ulimit -Hn'</p> <p>Fixing by setting a higher limit temporarely Open a new terminal window.</p> <p>This command will set a filesystem max file lmit just in case we are accidently hitting into that limit too... 'sudo sysctl -w fs.inotify.max_user_watches=100000'</p> <p>Now we will set our user/process limit to something more workable with generating ortho dynamically... 'ulimit -S -n 8192'</p> <p>When you check your 'ulimit -n' you should now see it at 8k (8192). Now, in the same terminal window, we can launch our autoortho binary: './autoortho_lin_1.4.2.bin'</p> <p>Note: when you close your terminal window that you entered these commands into (or start another) it will no longer have this raised limit. This is a python safegaurd, not a flaw. It helps protect you against scenerios where touching a large number of files can indicate issues (e.g. resource exhaustion, ransomeware attacks, bad code, etc).</p>"},{"location":"faq/#on-linux-this-does-not-startgives-a-fuse-error","title":"On Linux this does not start/gives a FUSE error","text":"<p>Make sure that your <code>/etc/fuse.conf</code> files is set to <code>user_allow_other</code>.  You may need to uncomment a line.</p>"},{"location":"faq/#the-program-crashed-and-now-i-get-an-error-when-autoortho-attempts-to-mount","title":"The program crashed and now I get an error when AutoOrtho attempts to mount","text":"<p>You can clear mounts manually with the command <code>sudo umount -f AutoOrtho</code>. You may need to run this for each remaining mount.  The <code>mount</code> command will list your current mount points.</p>"},{"location":"faq/#windows-issues","title":"Windows Issues","text":""},{"location":"faq/#when-using-windows-i-see-an-error-using-the-runbat-file-such-as-note-this-error-originates-from-a-subprocess-and-is-likely-not-a-problem-with-pip-error-legacy-install-failure","title":"When using Windows I see an error using the run.bat file such as <code>note: This error originates from a subprocess, and is likely not a problem with pip. error: legacy-install-failure</code>","text":"<p>This is likely due to having a very new version of Python and a package dependency that does not have a pre-built 'wheel' binary.  Further in that error you will see a link to visual studio build tools that can be installed.  You could also try downgrading your version of Python.  For instance try uninstalling Python 3.11 and install Python 3.10.</p>"},{"location":"faq/#downloading-and-extracting-files-takes-a-very-long-time-on-windows","title":"Downloading and extracting files takes a very long time on Windows","text":"<p>This may be due to Windows Defender real time scanning be enabled.  You can temporarily disable this, which should make a difference, but it will be re-enabled automatically.</p> <p>You can exclude directories, such as `C:\\Users.autoortho-data' or wherever else you installed your download and cache directories.</p>"},{"location":"faq/#on-windows-the-executablezip-is-detected-as-a-malwarevirus-by-windows-defender","title":"On Windows the executable/zip is detected as a malware/virus by Windows Defender","text":"<p>That is a false positive.  Unfortunately, Windows is very dev and opensource unfriendly.  You can choose to ignore this false positive or not, it's your computer.  Alternatively, you can run this directly via source.</p>"},{"location":"faq/#i-get-an-error-when-running-with-scenery-installed-on-a-non-local-drive-or-non-ntfs-formatted-drive-when-using-windows","title":"I get an error when running with scenery installed on a non-local drive or non-NTFS formatted drive when using Windows","text":"<p>This is not supported. Use a local NTFS formatted drive.</p>"},{"location":"faq/#macos-issues","title":"MacOS issues","text":""},{"location":"faq/#flight-crashes-during-loading-x-plane-logs-show-no-detailed-errors","title":"Flight crashes during loading, X-Plane logs show no detailed errors.","text":"<p>AutoOrtho Tile Setup and imagery download can take up lots of time while loading the flight and X-Plane freezes in the meantime. MacOS doesn't like the app being frozen and if you click on it or change apps often the system might force close it. Crashing the Simulator. Disabling multithreaded FUSE helps in these cases. Solution:  1. Set FUSE Multithreading to disabled in the settings. 2. Retry loading and stay on the loading screen (be patient)</p>"},{"location":"faq/#i-have-an-issue-that-is-not-here","title":"I have an issue that is not here.","text":"<p>Please check the issues page of the repository.  Before submitting an issue please search for already existing issues for yopur problem, as it may be duplicated. If your issue has not been reported please open a new one and include as much information as possible, for example: - Screenshots - Logs - OS  - Version of AO and X-Plane you are using</p> <p>With more information the debugging process will be easier.</p> <p>After the issue is opened I'll gladly check it out as soon as my time allows. Keep in mind that this is a side project for me, so support might not be immediate. </p>"},{"location":"faq/#base-mesh-packages-problems","title":"Base Mesh Packages Problems","text":""},{"location":"faq/#i-have-an-issue-with-some-part-of-the-mesh-offered-in-the-scenery-packages","title":"I have an issue with some part of the mesh offered in the scenery packages","text":"<p>Currently this fork still uses kubilus1 base mesh, as such support is not offered for it right now, this will change with the new custom mesh. For now refer to the issues page of the kubilus scenery to see if your issue has been reported and hopefully a community fix has been shared.</p>"},{"location":"faq/#about-this-fork","title":"About this fork","text":""},{"location":"faq/#what-is-the-objective-of-this-fork","title":"What is the objective of this fork?","text":"<p>As the AutoOrtho Continued name suggests the main idea of this fork is to continue building upon kubilus1's codebase and to add more features while keeping the program updated with latest technologies, and offer active support to issues that may arise.</p>"},{"location":"faq/#what-has-been-changed","title":"What has been changed?","text":"<p>This fork currently adds a revamped new UI, more autoortho options such as overriding max zoom, and quality of life features such as new imagery servers and download retries. For more detailed information of the changes of every release please refer to the releases  page as detailed changelongs of every release are detailed there.</p>"},{"location":"faq/#whats-next","title":"What's next?","text":"<p>While the scope of this fork may change over time and soem features might never see the light of day the main things in development right now are: - MacOs Support  - Completely rebuild the Base Mesh packages with newer Otho4XP versions to have newest mesh info and take advantage of new XP12 technologies such as 3D water.</p> <p>Things in backlog that are planned be implemented later on (order does not matter): - Predictive Tile caching with Simbrief integration: Have the program monitor your flight or via simbrief flightplan infer where you are heading to and start caching imagery from further tiles to speed up loading times and decrease stutters when you reach a new area. - Tile caching monitoring: See what tiles have been loaded and cached by the software. - Merge hotbso changes to this fork to support seasons with AutoOrtho</p>"},{"location":"faq/#when-will-those-features-be-released","title":"When will those features be released?","text":"<p>There is no ETA. And there is also no guarantee of this changes being released at all. Keep in mind this is a side project that is mostly fueled by my free time, autism and hyperfixation. So development times are not guaranteed and are subject to change. </p>"},{"location":"faq/#can-i-contribute-to-help","title":"Can I contribute to help?","text":"<p>Sure! This is a community open-source project after all, and the more contributions the better. You can create your own fork and open a PR into this repo with code you would want implemented! I will review it and hopefully merge it to keep this project growing.</p>"},{"location":"faq/#want-some-idea-that-you-want-implemented-but-cant-code-it","title":"Want some idea that you want implemented but can't code it?","text":"<p>You can still contribute! Open a discussion with your feature suggestion and maybe someone or me will look at it and implement it if we find it useful or interesting!</p>"},{"location":"info/","title":"Info Attributions and Other Projects","text":"<ul> <li>Maps generated from Ortho4XP</li> <li>Slippy Mapy Tilenames</li> <li>Icon by Vital Gorbachev</li> <li>DSF compression uses 7-Zip, which is lincensed under the GNU LGPL license</li> </ul>"},{"location":"performance/","title":"Performance Tuning Guide","text":"<p>AutoOrtho includes advanced performance tuning options that allow you to balance image quality against loading times and in-flight stuttering. This guide explains each setting and provides recommendations for different use cases.</p>"},{"location":"performance/#quick-start-performance-presets","title":"Quick Start: Performance Presets","text":"<p>For most users, the easiest way to configure performance is using the Performance Preset dropdown in Settings \u2192 Performance Tuning:</p> Preset Best For Trade-off Fast Weak CPUs, slow internet, stutter-free experience May have occasional missing/low-res tiles Balanced Most users Good balance of quality and performance Quality Fast CPUs, fast internet, maximum image quality May have longer loading times Custom Advanced users who want fine-grained control Manual configuration required"},{"location":"performance/#detailed-settings-reference","title":"Detailed Settings Reference","text":""},{"location":"performance/#zoom-level-critical-performance-factor","title":"Zoom Level (Critical Performance Factor)","text":"<p>The Max Zoom Level setting has the most significant impact on loading times and resource usage. Understanding this is crucial for optimizing performance.</p>"},{"location":"performance/#how-zoom-levels-work","title":"How Zoom Levels Work","text":"<p>Each zoom level doubles the resolution in both dimensions, meaning each zoom level increase requires 4\u00d7 the resources of the previous level:</p> Zoom Level Chunks per Tile Relative Resources Typical Use ZL14 16 (4\u00d74) 1\u00d7 (baseline) Low detail, fast loading ZL15 64 (8\u00d78) 4\u00d7 Medium detail ZL16 256 (16\u00d716) 16\u00d7 High detail (default) ZL17 1024 (32\u00d732) 64\u00d7 Very high detail ZL18 4096 (64\u00d764) 256\u00d7 Maximum detail, slowest"},{"location":"performance/#impact-on-performance","title":"Impact on Performance","text":"<p>Downloads: At ZL17, you need to download 4\u00d7 more image chunks than ZL16. At ZL18, that's 16\u00d7 more than ZL16.</p> <p>Processing: Each chunk must be decoded (JPEG\u2192RGB) and compressed (RGB\u2192DDS). More chunks = more CPU time.</p> <p>Memory: Higher zoom levels require more RAM to hold all the image data during processing.</p> <p>Storage: Cache size grows exponentially with zoom level.</p>"},{"location":"performance/#recommendations-by-system","title":"Recommendations by System","text":"System Type Recommended Max Zoom Notes Low-end / Slow internet ZL15 Fastest loading, acceptable quality Mid-range ZL16 Good balance (default) High-end / Fast internet ZL17 High quality, longer loading Enthusiast ZL18 Maximum quality, expect long loads"},{"location":"performance/#example-loading-time-impact","title":"Example: Loading Time Impact","text":"<p>Assuming 50ms average per chunk download:</p> Zoom Level Chunks Theoretical Min Time ZL15 64 ~3.2 seconds ZL16 256 ~12.8 seconds ZL17 1024 ~51.2 seconds ZL18 4096 ~3.4 minutes <p>Note: Actual times vary based on parallelism, caching, and network conditions. These are theoretical minimums to illustrate the exponential scaling.</p>"},{"location":"performance/#config-file-setting","title":"Config File Setting","text":"<pre><code># Maximum zoom level for imagery (14-18)\n# Higher = better quality but exponentially longer loading times\n# Each level increase = 4\u00d7 more resources needed\nmaptype_override_zoom = 16\n</code></pre> <p>Tip: If you're experiencing long loading times or frequent missing tiles, consider lowering your max zoom level before adjusting other settings.</p>"},{"location":"performance/#time-budget-system","title":"Time Budget System","text":"<p>The Time Budget system controls how long AutoOrtho spends loading each tile before returning a result to X-Plane.</p>"},{"location":"performance/#enable-time-budget-use_time_budget","title":"Enable Time Budget (<code>use_time_budget</code>)","text":"<ul> <li>Type: Boolean (True/False)</li> <li>Default: True</li> <li>Config file: <code>use_time_budget = True</code></li> </ul> <p>When enabled, AutoOrtho uses a wall-clock time limit for tile requests instead of the legacy per-chunk timeout system. This provides more predictable performance and reduces stuttering.</p> <p>Recommendation: Keep enabled unless you experience issues.</p>"},{"location":"performance/#tile-time-budget-tile_time_budget","title":"Tile Time Budget (<code>tile_time_budget</code>)","text":"<ul> <li>Type: Float (seconds)</li> <li>Default: 180</li> <li>Range: 60 - 600 seconds</li> <li>Config file: <code>tile_time_budget = 180.0</code></li> </ul> <p>The maximum wall-clock time for a complete tile (all mipmap levels combined). This budget measures active processing time only - queue wait time doesn't count. The budget starts when AutoOrtho actually begins processing the tile's chunks, not when the tile is first requested.</p> Value Use Case Effect 60 - 120.0s Fast/smooth experience Quicker loading, but more partial tiles 120.0 - 300.0s Balanced Good quality with reasonable loading times 300 - 600.0s Maximum quality Complete tiles, but longer loading times <p>How it works: 1. X-Plane requests a tile from AutoOrtho (tile enters processing queue) 2. Budget timer starts when AutoOrtho actually begins downloading/processing chunks for this tile 3. AutoOrtho builds all mipmaps (4 \u2192 3 \u2192 2 \u2192 1 \u2192 0) sharing this budget 4. After <code>tile_time_budget</code> seconds of active processing, AutoOrtho builds the DDS with whatever is complete 5. Any incomplete areas use the configured <code>missing_color</code></p> <p>Note: Queue wait time (when other tiles are being processed first) does NOT count against the budget. This ensures fair time allocation even when many tiles are requested simultaneously.</p> <p>Note: Each tile covers a large geographic area (approximately 1 square degree of latitude/longitude at zoom 16). Higher budgets allow more time for all chunks to download and process.</p> <p>Note: The effectiveness of this setting will also depend on your configured max zoom level. Higher zoom levels with lower budget times will result in faster loading but lots of missing tiles.</p>"},{"location":"performance/#fallback-system","title":"Fallback System","text":"<p>When chunks fail to download in time, the fallback system provides alternative imagery to prevent missing tiles.</p>"},{"location":"performance/#fallback-level-fallback_level","title":"Fallback Level (<code>fallback_level</code>)","text":"<ul> <li>Type: String (none, cache, full)</li> <li>Default: cache</li> <li>Config file: <code>fallback_level = cache</code></li> </ul> <p>Controls which fallback mechanisms are enabled:</p> Level Fallback 1 (Disk Cache) Fallback 2 (Scale Mipmaps) Fallback 3 (Network) Use Case none \u274c Disabled \u274c Disabled \u274c Disabled Fastest, may have green/missing tiles cache \u2705 Enabled \u2705 Enabled \u274c Disabled Balanced - uses cached data only full \u2705 Enabled \u2705 Enabled \u2705 Enabled Best quality - can download lower-detail alternatives <p>Fallback Chain Explained:</p> <ol> <li> <p>Fallback 1 - Disk Cache: Searches your local cache for a lower-zoom version of the same imagery. Fast and free.</p> </li> <li> <p>Fallback 2 - Scale from Mipmaps: Scales imagery from already-built lower-detail mipmap levels. Very fast.</p> </li> <li> <p>Fallback 3 - Network Download: Downloads lower-detail imagery on-demand from the server. Slowest but provides the best fill-in quality.</p> </li> </ol> <p>Recommendation: Use <code>cache</code> for most users. Use <code>full</code> if you have fast internet and prefer complete imagery over speed.</p>"},{"location":"performance/#fallback-extends-budget-fallback_extends_budget","title":"Fallback Extends Budget (<code>fallback_extends_budget</code>)","text":"<ul> <li>Type: Boolean (True/False)</li> <li>Default: False</li> <li>Config file: <code>fallback_extends_budget = False</code></li> </ul> <p>Only applies when <code>fallback_level = full</code>.</p> <p>When enabled, network fallbacks (Fallback 3) will continue even after the tile time budget is exhausted. This prioritizes image quality over strict timing.</p> Setting Behavior Effect False (default) Fallbacks respect budget Faster loading, may have some missing tiles True Fallbacks ignore budget Better quality, may cause longer load times <p>When to enable: - You prioritize having complete imagery over loading speed - You have a fast, reliable internet connection - You don't mind occasional longer loading times</p> <p>When to keep disabled: - You want predictable, stutter-free performance - Your internet is slow or unreliable - Loading speed is more important than perfect imagery</p>"},{"location":"performance/#extended-fallback-timeout-fallback_timeout","title":"Extended Fallback Timeout (<code>fallback_timeout</code>)","text":"<ul> <li>Type: Float (seconds)</li> <li>Default: 3.0</li> <li>Range: 1.0 - 10.0 seconds</li> <li>Config file: <code>fallback_timeout = 3.0</code></li> </ul> <p>Only applies when <code>fallback_extends_budget = True</code>.</p> <p>When extended fallbacks are enabled, this controls how long each lower-detail mipmap level waits for its chunks to download. The total additional time is this value multiplied by the number of mipmap levels tried (typically 3-4 levels).</p> Value Per-Level Wait Total Extra Time (4 levels) Use Case 1.5s 1.5 seconds ~6 seconds Fast - minimize extra wait 3.0s 3.0 seconds ~12 seconds Balanced (default) 5.0s 5.0 seconds ~20 seconds Quality - more time for slow connections 10.0s 10.0 seconds ~40 seconds Maximum - ensure fallbacks succeed <p>Example calculation: - <code>tile_time_budget = 10s</code> (exhausted after 10 seconds) - <code>fallback_timeout = 3.0s</code> - Fallback tries mipmap levels 1, 2, 3, 4 \u2192 4 levels \u00d7 3.0s = 12 seconds max - Total worst-case time: 10s + 12s = 22 seconds</p> <p>Recommendation: Start with 3.0s. If you see fallbacks timing out (check logs), increase to 5.0s. If loading is too slow, decrease to 1.5s.</p>"},{"location":"performance/#startup-loading-behavior","title":"Startup Loading Behavior","text":""},{"location":"performance/#suspend-maxwait-suspend_maxwait","title":"Suspend Maxwait (<code>suspend_maxwait</code>)","text":"<ul> <li>Type: Boolean (True/False)</li> <li>Default: True</li> <li>Config file: <code>suspend_maxwait = True</code></li> </ul> <p>When enabled, AutoOrtho extends timeout values during initial scenery loading (before the first flight begins). This allows more time for downloads to complete during the initial load, resulting in fewer missing tiles when the flight starts.</p> <p>How it works: - AutoOrtho detects the \"loading\" phase by tracking if X-Plane has ever sent flight data via UDP - During initial loading (before first connection), the tile time budget is multiplied by 10\u00d7 - Once the flight begins (X-Plane starts sending position data), normal timeouts resume permanently - Important: Temporary disconnects (e.g., from stuttering) do NOT re-enable extended timeouts</p> Phase Time Budget Behavior Initial loading (never connected) <code>tile_time_budget \u00d7 10</code> Flying (UDP connected) <code>tile_time_budget</code> (normal) Temporary disconnect (stutter) <code>tile_time_budget</code> (normal - no penalty) <p>Stall Detection: AutoOrtho monitors download progress and will log warnings if downloads appear stalled: - After 60 seconds with no successful downloads: <code>\"Downloads appear slow...\"</code> warning - After 180 seconds with no successful downloads: <code>\"\u26a0\ufe0f DOWNLOADS STALLED...\"</code> warning</p> <p>These warnings help identify server-side throttling vs client-side issues.</p> <p>Note: If you experience very long loading times (&gt;5 minutes stuck at \"Reading scenery files\"), this may indicate: - Server throttling (especially with BI/Bing imagery during high-traffic periods) - Network connectivity issues - Very high zoom level with slow internet connection</p> <p>Troubleshooting Long Loading Times: 1. Check AutoOrtho logs for \"Downloads appear slow\" or \"DOWNLOADS STALLED\" warnings - these indicate server throttling 2. Try a different imagery source (GO2, EOX) to rule out server-specific issues 3. Lower your max zoom level temporarily to reduce download volume 4. Ensure your file cache is enabled - subsequent flights load much faster 5. If issues persist, set <code>suspend_maxwait = False</code> for stricter timeouts during loading (may result in more missing tiles initially)</p>"},{"location":"performance/#dynamic-zoom-levels","title":"Dynamic Zoom Levels","text":"<p>The Dynamic Zoom system automatically adjusts imagery quality based on your altitude Above Ground Level (AGL). This provides higher detail when flying low and saves resources at high altitudes where detail matters less.</p>"},{"location":"performance/#why-agl-instead-of-msl","title":"Why AGL Instead of MSL?","text":"<p>AutoOrtho uses AGL (Above Ground Level) altitude from X-Plane's <code>y_agl</code> dataref rather than MSL (Mean Sea Level) pressure altitude. This provides more accurate terrain-aware imagery quality:</p> Scenario MSL Altitude Terrain Elevation AGL Altitude Zoom Decision Flying over ocean 10,000ft 0ft 10,000ft AGL Lower zoom OK Flying over mountains 10,000ft 5,000ft 5,000ft AGL Higher zoom needed Approaching mountain airport 8,000ft 7,000ft 1,000ft AGL Maximum zoom <p>With AGL, you automatically get higher quality imagery when flying low over terrain, regardless of the terrain's MSL elevation.</p>"},{"location":"performance/#enable-dynamic-zoom-max_zoom_mode","title":"Enable Dynamic Zoom (<code>max_zoom_mode</code>)","text":"<ul> <li>Type: String (fixed, dynamic)</li> <li>Default: fixed</li> <li>Config file: <code>max_zoom_mode = fixed</code></li> </ul> Mode Description fixed Use the same zoom level everywhere (traditional behavior) dynamic Automatically adjust zoom based on AGL altitude"},{"location":"performance/#configuring-quality-steps","title":"Configuring Quality Steps","text":"<p>Quality Steps define zoom levels for different altitude ranges. Each step specifies: - Altitude (AGL): The altitude threshold in feet above ground - Zoom Level: The maximum zoom level for normal tiles - Airports Zoom Level: The maximum zoom level near airports (can be higher for detail)</p> <p>Example configuration:</p> Altitude (AGL) Normal ZL Airports ZL Use Case 0ft+ ZL17 ZL18 On ground / very low 5,000ft+ ZL16 ZL17 Low altitude flight 15,000ft+ ZL15 ZL16 Medium altitude 30,000ft+ ZL14 ZL15 High altitude cruise <p>How altitude prediction works:</p> <p>When a tile is requested, AutoOrtho predicts your altitude when you'll be closest to that tile:</p> <ol> <li>Gets your current position, heading, speed, and vertical speed</li> <li>Calculates when you'll be closest to the tile</li> <li>Predicts your AGL altitude at that time</li> <li>Selects the appropriate zoom level for that predicted altitude</li> </ol> <p>This means tiles ahead of you during a descent will load at higher detail than tiles behind you.</p>"},{"location":"performance/#fallback-behavior","title":"Fallback Behavior","text":"<p>When X-Plane DataRefs are not available (before flight starts, loading screens): - Dynamic zoom falls back to the base step (0ft AGL quality level) - This ensures tiles load at maximum configured quality during scenery loading</p>"},{"location":"performance/#spatial-prefetching","title":"Spatial Prefetching","text":"<p>The prefetching system proactively downloads tiles ahead of your aircraft to reduce in-flight stuttering.</p>"},{"location":"performance/#enable-prefetching-prefetch_enabled","title":"Enable Prefetching (<code>prefetch_enabled</code>)","text":"<ul> <li>Type: Boolean (True/False)</li> <li>Default: True</li> <li>Config file: <code>prefetch_enabled = True</code></li> </ul> <p>When enabled, AutoOrtho monitors your aircraft's position, heading, and speed to predict which tiles you'll need next and downloads them in advance.</p> <p>How it works:</p> <p>With SimBrief flight data loaded: 1. AutoOrtho follows your actual flight plan, interpolating between waypoints 2. Uses SimBrief's calculated times (accounting for winds and climb/descent) 3. Prioritizes tiles by time-to-encounter (closest tiles first) 4. Downloads tiles uniformly along your entire route</p> <p>Without SimBrief (velocity-based): 1. AutoOrtho tracks your aircraft's heading and ground speed 2. It calculates which tiles are in your flight path ahead 3. It downloads those tiles in the background before you reach them</p> <p>Prefetching with Dynamic Zoom:</p> <p>When Dynamic Zoom is enabled, the prefetcher uses your predicted AGL altitude at each prefetch location to determine the appropriate zoom level. This means: - Tiles prefetched for a descent will be at higher zoom levels - Tiles prefetched for cruise will be at lower zoom levels - Each prefetched tile matches what you'll actually need when you get there</p> <p>Recommendation: Keep enabled for the smoothest in-flight experience.</p>"},{"location":"performance/#lookahead-time-prefetch_lookahead","title":"Lookahead Time (<code>prefetch_lookahead</code>)","text":"<ul> <li>Type: Integer (minutes)</li> <li>Default: 10</li> <li>Range: 1 - 60 minutes</li> <li>Config file: <code>prefetch_lookahead = 10</code></li> </ul> <p>How far ahead (in minutes of flight time) to prefetch tiles.</p> Value At 150 kts At 300 kts At 500 kts Use Case 5 min ~12nm ~25nm ~42nm Conservative, less bandwidth 10 min ~25nm ~50nm ~83nm Balanced (default) 20 min ~50nm ~100nm ~166nm Longer flights, faster aircraft 30 min ~75nm ~150nm ~250nm Cross-country flights 60 min ~150nm ~300nm ~500nm Maximum prefetch coverage <p>Example: At 300 knots ground speed with 10 minute lookahead: - Distance: 300 kts \u00d7 10 min = 50 nautical miles ahead - AutoOrtho will prefetch tiles up to 50nm in front of you</p> <p>Recommendation:  - Short flights / GA: 5-10 minutes - Medium flights / Jets: 10-20 minutes - Long haul / Fast jets: 20-30 minutes</p>"},{"location":"performance/#per-chunk-timeout-settings","title":"Per-Chunk Timeout Settings","text":"<p>These settings work alongside the tile time budget to control individual chunk download behavior.</p>"},{"location":"performance/#per-chunk-max-wait-maxwait","title":"Per-Chunk Max Wait (<code>maxwait</code>)","text":"<ul> <li>Type: Float (seconds)</li> <li>Default: 5.0</li> <li>Range: 0.1 - 10.0</li> <li>Config file: <code>maxwait = 5.0</code></li> <li>UI: Settings \u2192 Advanced Settings \u2192 Per-chunk max wait</li> </ul> <p>Maximum time to wait for a single chunk to download. This works in combination with the tile time budget:</p> <ul> <li>Tile Time Budget: Total time for the entire tile (all 256 chunks)</li> <li>Per-Chunk Max Wait: Maximum time for each individual chunk download</li> </ul> <p>A chunk will stop waiting when either limit is reached, whichever comes first. This prevents a single slow chunk from consuming the entire tile budget.</p> <p>How it works:</p> <pre><code>For each chunk:\n  wait_time = min(remaining_tile_budget, maxwait)\n  wait for chunk up to wait_time\n</code></pre> <p>Recommended values: | Network Speed | Recommended <code>maxwait</code> | |--------------|----------------------| | Fast (fiber) | 2.0 seconds | | Normal (cable/DSL) | 5.0 seconds (default) | | Slow/unreliable | 10.0 seconds |</p> <p>When time budget is disabled: This becomes the sole timeout mechanism \u2014 each chunk waits up to <code>maxwait</code> seconds independently, which can result in much longer total tile times (up to 256 \u00d7 maxwait for a full tile).</p>"},{"location":"performance/#extended-loading-at-startup-suspend_maxwait","title":"Extended Loading at Startup (<code>suspend_maxwait</code>)","text":"<ul> <li>Type: Boolean</li> <li>Default: True</li> <li>Config file: <code>suspend_maxwait = True</code></li> <li>UI: Settings \u2192 Advanced Settings \u2192 \"Allow extra loading time during startup\"</li> </ul> <p>When enabled, AutoOrtho uses significantly longer timeouts during X-Plane's initial scenery load (before the flight starts). This ensures tiles load at full quality before you begin flying.</p> <p>Startup behavior when enabled:</p> Setting Normal Flight During Startup Tile Time Budget As configured 10\u00d7 the configured value Per-Chunk Max Wait As configured 20 seconds <p>Example: With <code>tile_time_budget = 180</code> and <code>maxwait = 5.0</code>: - During startup: 1800s tile budget, 20s per-chunk wait - During flight: 180s tile budget, 5s per-chunk wait</p> <p>How startup is detected: AutoOrtho considers you to be in \"startup mode\" until X-Plane's DataRef connection is established, which happens when the flight becomes active (after the \"Reading new scenery files\" splash screen).</p> <p>Trade-offs: - \u2705 Better initial scenery quality (fewer blurry/missing tiles at flight start) - \u2705 Reduces low-resolution and placeholder tiles - \u26a0\ufe0f May increase initial scenery loading time</p> <p>\u26a0\ufe0f Tip: Long X-Plane Loading Times? If you're experiencing significantly longer X-Plane loading times, try setting \"Allow extra loading time during startup\" to Off. This option can dramatically increase scenery loading times, especially when combined with higher zoom levels or slower internet connections. Disabling it will use the normal time budgets during startup, resulting in faster loads at the cost of potentially lower initial scenery quality.</p>"},{"location":"performance/#recommended-configurations","title":"Recommended Configurations","text":""},{"location":"performance/#stutter-free-flying-prioritize-performance","title":"Stutter-Free Flying (Prioritize Performance)","text":"<pre><code>use_time_budget = True\ntile_time_budget = 120.0\nfallback_level = cache\nfallback_extends_budget = False\nprefetch_enabled = True\nprefetch_lookahead = 30\nmax_zoom_level = 16\n</code></pre>"},{"location":"performance/#maximum-quality-prioritize-imagery","title":"Maximum Quality (Prioritize Imagery)","text":"<pre><code>use_time_budget = True\ntile_time_budget = 300\nfallback_level = full\nfallback_extends_budget = True\nprefetch_enabled = True\nprefetch_lookahead = 60\nmax_zoom_level = 17\n</code></pre>"},{"location":"performance/#slow-internet-connection","title":"Slow Internet Connection","text":"<pre><code>use_time_budget = True\ntile_time_budget = 180\nfallback_level = cache\nfallback_extends_budget = False\nprefetch_enabled = True\nprefetch_lookahead = 90\nmax_zoom_level = 16\n</code></pre>"},{"location":"performance/#weak-cpu-limited-system","title":"Weak CPU / Limited System","text":"<pre><code>use_time_budget = True\ntile_time_budget = 180\nfallback_level = none\nfallback_extends_budget = False\nprefetch_enabled = False\nmax_zoom_level = 15\n</code></pre>"},{"location":"performance/#understanding-the-statistics","title":"Understanding the Statistics","text":"<p>AutoOrtho logs performance statistics that can help you tune your settings:</p> <pre><code>STATS: {'mm_count:0': 12, 'mm_count:1': 26, 'chunk_budget_skipped': 8782, 'chunk_missing_count': 394}\n</code></pre>"},{"location":"performance/#key-statistics","title":"Key Statistics","text":"Statistic Meaning <code>mm_count:N</code> Successful mipmap builds at level N (0=highest detail) <code>chunk_budget_skipped</code> Chunks skipped because time budget ran out <code>chunk_missing_count</code> Chunks that ended up with missing color (no fallback worked) <p>Healthy indicators: - High <code>mm_count:0</code> values = high-detail tiles completing successfully - Low <code>chunk_missing_count</code> = fallbacks working well</p> <p>Warning signs: - High <code>chunk_budget_skipped</code> = many chunks timing out, increase <code>tile_time_budget</code> - High <code>chunk_missing_count</code> = fallbacks not covering gaps, enable more fallbacks</p>"},{"location":"performance/#breaking-down-tile-creation-time","title":"Breaking Down Tile Creation Time","text":"<p>Each tile creation has two main phases:</p> <ol> <li>Download + Compose (typically 60-80% of time)</li> <li>Downloading 64-4096 image chunks (depending on zoom level)</li> <li>Decoding JPEG data</li> <li> <p>Compositing into a single image</p> </li> <li> <p>Compression (typically 20-40% of time)</p> </li> <li>Converting RGBA to DDS format</li> <li>Generating mipmaps</li> </ol> <p>The stats show both the total time and compression-only time, letting you identify bottlenecks: - If compression time is high \u2192 CPU-bound, consider lowering zoom level - If download time is high \u2192 Network-bound, check internet speed</p>"},{"location":"performance/#time-based-exclusion","title":"Time-Based Exclusion","text":"<p>AutoOrtho includes a time-based exclusion feature that allows you to automatically disable AutoOrtho scenery during specific time ranges in the simulator. This is useful for night flying when satellite imagery provides little benefit.</p>"},{"location":"performance/#how-it-works","title":"How It Works","text":"<p>When time exclusion is active:</p> <ol> <li>AutoOrtho monitors the simulator's local time via the <code>sim/time/local_time_sec</code> dataref</li> <li>During the exclusion period, DSF file reads are redirected to X-Plane's global scenery</li> <li>X-Plane uses its default scenery (which often has better night lighting)</li> <li>When the exclusion period ends, AutoOrtho scenery becomes available again</li> </ol> <p>Important: DSF files are never hidden from X-Plane. X-Plane indexes DSF files at flight load time, so hiding them would cause missing terrain. Instead, AutoOrtho redirects reads to the corresponding global scenery DSF files, ensuring terrain data is always available.</p>"},{"location":"performance/#safety-features","title":"Safety Features","text":"<p>The time exclusion system includes important safety features:</p> <ul> <li>Active DSF Protection: DSF files that are currently in use by X-Plane will NOT be redirected, even if the exclusion period starts. This prevents crashes or graphical glitches.</li> <li>Gradual Transition: Only new DSF requests are redirected during exclusion. Previously loaded scenery continues to work until X-Plane naturally releases it.</li> <li>Global Scenery Fallback: When redirecting, AutoOrtho looks for the equivalent DSF in X-Plane's Global Scenery folder. If not found, the original AutoOrtho file is served.</li> </ul>"},{"location":"performance/#configuration","title":"Configuration","text":""},{"location":"performance/#enable-time-exclusion-enabled","title":"Enable Time Exclusion (<code>enabled</code>)","text":"<ul> <li>Type: Boolean (True/False)</li> <li>Default: False</li> <li>Config file: <code>[time_exclusion]</code> section, <code>enabled = True</code></li> </ul> <p>Enable or disable the time-based exclusion feature.</p>"},{"location":"performance/#start-time-start_time","title":"Start Time (<code>start_time</code>)","text":"<ul> <li>Type: String (HH:MM format)</li> <li>Default: 22:00</li> <li>Config file: <code>start_time = 22:00</code></li> </ul> <p>The time when the exclusion period begins (24-hour format). For example, \"22:00\" for 10 PM.</p>"},{"location":"performance/#end-time-end_time","title":"End Time (<code>end_time</code>)","text":"<ul> <li>Type: String (HH:MM format)</li> <li>Default: 06:00</li> <li>Config file: <code>end_time = 06:00</code></li> </ul> <p>The time when the exclusion period ends (24-hour format). For example, \"06:00\" for 6 AM.</p>"},{"location":"performance/#default-to-exclusion-default_to_exclusion","title":"Default to Exclusion (<code>default_to_exclusion</code>)","text":"<ul> <li>Type: Boolean (True/False)</li> <li>Default: False</li> <li>Config file: <code>default_to_exclusion = False</code></li> </ul> <p>Controls behavior when sim time is not yet available (before flight starts):</p> Setting Behavior False (default) AutoOrtho works normally until sim time confirms exclusion True Assume exclusion is active until sim time proves otherwise <p>When to enable: - You want night flights to start with default scenery from the very beginning - You don't want any AutoOrtho scenery loaded before sim time is available</p> <p>When to keep disabled: - You prefer AutoOrtho to work normally during loading screens - You only want exclusion to apply when sim time is confirmed</p>"},{"location":"performance/#decision-preservation-during-scenery-reload","title":"Decision Preservation During Scenery Reload","text":"<p>Once the simulator time becomes available and AutoOrtho determines the correct exclusion state, this decision is preserved during temporary disconnections such as when you trigger \"Reload Scenery\" in X-Plane.</p> <p>Why this matters:</p> <p>Without decision preservation, the following problem would occur: 1. You start a flight with \"Default to Exclusion\" enabled 2. Time exclusion activates initially (no sim time available yet) 3. Sim time becomes available (e.g., 15:00 / 3 PM) \u2192 exclusion deactivates correctly 4. You trigger \"Reload Scenery\" in X-Plane 5. During reload, sim time temporarily becomes unavailable 6. \u274c Without preservation: exclusion would incorrectly re-activate 7. \u2705 With preservation: exclusion stays inactive (correct behavior)</p> <p>How it works:</p> <ul> <li>When sim time is received, AutoOrtho records both the time and the exclusion decision</li> <li>If sim time becomes temporarily unavailable (during reload), the last decision is preserved</li> <li>The preserved decision is updated whenever new sim time data is received</li> <li>Normal time-based transitions still work (crossing into/out of exclusion hours)</li> </ul> <p>Limitations:</p> Limitation Description Persists until restart The preserved decision remains until AutoOrtho is fully restarted To reset behavior Quit and restart AutoOrtho to return to the <code>default_to_exclusion</code> initial behavior Updates on new time If sim time indicates a state change (e.g., crossing into night), it will update when time becomes available again <p>\ud83d\udca1 Tip: If you notice the exclusion state is \"stuck\" after multiple scenery reloads, simply restart AutoOrtho to reset to the configured default behavior.</p>"},{"location":"performance/#example-configuration","title":"Example Configuration","text":"<p>To disable AutoOrtho between 10 PM and 6 AM (night hours):</p> <pre><code>[time_exclusion]\nenabled = True\nstart_time = 22:00\nend_time = 06:00\ndefault_to_exclusion = False\n</code></pre> <p>To ensure exclusion is active from the moment AutoOrtho starts (before sim time is available):</p> <pre><code>[time_exclusion]\nenabled = True\nstart_time = 22:00\nend_time = 06:00\ndefault_to_exclusion = True\n</code></pre>"},{"location":"performance/#overnight-ranges","title":"Overnight Ranges","text":"<p>The system correctly handles overnight time ranges. For example, if you set: - Start: 22:00 (10 PM) - End: 06:00 (6 AM)</p> <p>AutoOrtho will be disabled from 10 PM until 6 AM the next morning.</p>"},{"location":"performance/#ui-configuration","title":"UI Configuration","text":"<p>You can configure time exclusion in the AutoOrtho Settings tab:</p> <ol> <li>Go to Settings tab</li> <li>Find the Time Exclusion Settings group</li> <li>Check Enable time-based exclusion</li> <li>Set the Start time and End time in HH:MM format</li> </ol>"},{"location":"performance/#use-cases","title":"Use Cases","text":"<ul> <li>Night Flying: Satellite imagery is often dark or less useful at night. Default X-Plane scenery may have better night lighting.</li> <li>Performance Optimization: Reduce network usage and CPU load during night hours when visual quality matters less.</li> <li>Dawn/Dusk Flying: Exclude twilight hours when satellite imagery transitions may look unrealistic.</li> </ul>"},{"location":"performance/#simbrief-integration","title":"SimBrief Integration","text":"<p>AutoOrtho can integrate with SimBrief to enhance Dynamic Zoom and Prefetching using your actual flight plan data. This provides more accurate predictions than velocity-based calculations alone.</p>"},{"location":"performance/#setting-up-simbrief-integration","title":"Setting Up SimBrief Integration","text":"<ol> <li>Go to Settings \u2192 Setup tab</li> <li>Find the SimBrief Integration section</li> <li>Enter your SimBrief User ID (found in your SimBrief account settings)</li> <li>Click Fetch Flight Data after filing your flight plan in SimBrief</li> <li>Enable Use Flight Data for Dynamic Zoom Level and Pre-fetching Calculations</li> </ol> <p>Note: You can load SimBrief flight data at any time \u2014 before or after pressing \"Run\". The toggle takes effect immediately, so you don't need to restart AutoOrtho or save the config when loading a flight plan mid-session.</p>"},{"location":"performance/#how-it-works_1","title":"How It Works","text":"<p>When SimBrief integration is enabled and flight data is loaded:</p>"},{"location":"performance/#dynamic-zoom-with-simbrief","title":"Dynamic Zoom with SimBrief","text":"<p>Instead of predicting altitude based on current vertical speed, AutoOrtho uses your planned altitudes from SimBrief:</p> <ol> <li>For each tile, finds the closest waypoint(s) in your flight plan</li> <li>Uses the planned AGL altitude at those waypoints</li> <li>If multiple waypoints are within the consideration radius (default 50nm), uses the lowest AGL altitude for conservative quality</li> </ol> <p>Conservative AGL Calculation: - Uses the lowest flight altitude (MSL) among nearby waypoints \u2014 accounts for descents - Uses the highest ground elevation \u2014 accounts for mountains - AGL = lowest_MSL - highest_ground = most conservative (highest quality) result</p>"},{"location":"performance/#prefetching-with-simbrief","title":"Prefetching with SimBrief","text":"<p>Instead of prefetching based on velocity vector prediction, AutoOrtho follows your actual flight path with time-based prioritization:</p> <ol> <li>Projects your position onto the route \u2014 finds exactly where you are on the flight plan</li> <li>Calculates your \"current time\" \u2014 interpolates between waypoint times based on position</li> <li>Walks forward along the entire path \u2014 interpolating between waypoints at regular intervals (not just around waypoints)</li> <li>Uses SimBrief's planned times \u2014 accounts for winds, climb/descent speeds, and holds</li> <li>Calculates time-to-encounter for each point along the path</li> <li>Prioritizes tiles by time \u2014 tiles you'll reach sooner are prefetched first</li> <li>Stops at the configured lookahead time \u2014 doesn't waste bandwidth on distant tiles</li> </ol> <p>Key advantage: The path is uniformly sampled between waypoints, so even long oceanic legs or direct routes with distant waypoints get full coverage. Tiles are downloaded in the order you'll actually encounter them.</p> <p>Example: If your next waypoint is 200nm away but you'll pass near a tile in 5 minutes, that tile is prefetched before tiles near the waypoint itself.</p>"},{"location":"performance/#configuration-options","title":"Configuration Options","text":"<p>These settings are available in Settings \u2192 Setup \u2192 SimBrief Integration when flight data is loaded and the \"Use Flight Data\" toggle is enabled.</p> Setting Default Range Description Route Consideration Radius 50 nm 10-200 nm Radius around a tile to consider waypoints for altitude calculation. Uses the lowest altitude among nearby waypoints for conservative zoom level selection. Route Deviation Threshold 40 nm 5-100 nm Maximum distance off-route before falling back to DataRef-based calculations. Accounts for ATC vectors or weather avoidance. Route Prefetch Radius 40 nm 10-150 nm Radius around path points for pre-fetching tiles. Larger values prefetch more tiles perpendicular to your route. <p>\u2139 Real-time Changes: All route settings take effect immediately when modified \u2014 no restart required. However, use Save Config to persist your values for future AutoOrtho sessions.</p>"},{"location":"performance/#fallback-behavior_1","title":"Fallback Behavior","text":"<p>SimBrief integration gracefully falls back to DataRef-based calculations when:</p> <ol> <li>No flight data loaded: Use velocity-based prediction from X-Plane DataRefs</li> <li>Aircraft off-route: If you deviate more than 40nm from the planned route, AutoOrtho assumes you're no longer following the plan and falls back to DataRef calculations</li> <li>DataRefs unavailable: If X-Plane isn't sending data yet, uses the base quality step (0ft AGL = maximum quality)</li> </ol>"},{"location":"performance/#example-workflows","title":"Example Workflows","text":""},{"location":"performance/#option-a-load-flight-plan-before-starting","title":"Option A: Load flight plan before starting","text":"<ol> <li>File flight plan in SimBrief (e.g., KJFK \u2192 KLAX)</li> <li>Start AutoOrtho and go to Settings \u2192 Setup</li> <li>Enter SimBrief User ID and click \"Fetch Flight Data\"</li> <li>Verify flight info displays correctly (route, cruise altitude, aircraft)</li> <li>Enable toggle \"Use Flight Data for Dynamic Zoom...\"</li> <li>Press Run \u2014 AutoOrtho starts and begins prefetching along your route</li> <li>Start X-Plane and fly your route</li> </ol>"},{"location":"performance/#option-b-load-flight-plan-after-starting-mid-session","title":"Option B: Load flight plan after starting (mid-session)","text":"<ol> <li>Start AutoOrtho and press Run (with your SimBrief User ID already saved)</li> <li>Start X-Plane and begin your flight</li> <li>File flight plan in SimBrief when ready</li> <li>Go to Settings \u2192 Setup and click \"Fetch Flight Data\"</li> <li>Enable toggle \u2014 takes effect immediately, no restart needed</li> <li>AutoOrtho will immediately start using your flight plan for prefetching and dynamic zoom</li> </ol>"},{"location":"performance/#known-limitations","title":"Known Limitations","text":""},{"location":"performance/#zoom-level-transitions","title":"Zoom Level Transitions","text":"<p>When flying through areas where the zoom level changes (e.g., from ZL16 to ZL15 during climb), you may notice:</p> <ul> <li>Hard visual transitions: Adjacent tiles at different zoom levels may have visible seams due to:</li> <li>Different imagery capture dates</li> <li>Different color processing/calibration</li> <li> <p>Resolution differences at tile boundaries</p> </li> <li> <p>Color mismatches: Satellite imagery from different zoom levels is often captured at different times, so colors, seasons, and lighting may not match perfectly.</p> </li> </ul> <p>Mitigation strategies: - Configure fewer, larger altitude steps to reduce the number of transitions - Accept some quality variation for the performance benefits - Use similar zoom levels for adjacent altitude ranges (e.g., ZL16/ZL16 instead of ZL16/ZL14)</p>"},{"location":"performance/#simbrief-integration-limitations","title":"SimBrief Integration Limitations","text":"Limitation Description Single flight plan Only the most recently fetched SimBrief flight plan is used. Multi-leg flights require re-fetching between legs. Static ground heights Ground elevation data comes from SimBrief's database, which may differ slightly from X-Plane's terrain. Route deviation detection The 40nm off-route threshold is a straight-line distance, not a cross-track distance. Complex routes near waypoints may trigger false positives. No automatic refresh Flight data is fetched once when you click the button. Changes to your SimBrief flight plan require manual re-fetch. Holding patterns SimBrief fixes don't include holding patterns. If you hold, AutoOrtho may use incorrect altitude predictions."},{"location":"performance/#dataref-based-prediction-limitations","title":"DataRef-Based Prediction Limitations","text":"<p>When not using SimBrief (or when off-route), altitude prediction uses X-Plane DataRefs:</p> Limitation Description Vertical speed extrapolation Assumes current vertical speed will continue, which may not be accurate for complex climb/descent profiles. 60-second averaging window Predictions are based on a 60-second rolling average, so rapid changes in flight path take time to reflect. No terrain awareness DataRef-based predictions use current AGL but don't know about upcoming terrain changes."},{"location":"performance/#prefetching-limitations","title":"Prefetching Limitations","text":"Limitation Description Priority system Prefetched tiles are always lower priority than tiles X-Plane directly requests. During rapid maneuvering, prefetching pauses. Network-dependent Prefetching requires available network bandwidth. On slow connections, prefetching may not keep up with fast aircraft. Cache eviction Prefetched tiles can be evicted from cache if memory limits are reached before you reach those tiles."},{"location":"performance/#general-limitations","title":"General Limitations","text":"Limitation Description Imagery availability Not all zoom levels are available in all areas. Some regions only have imagery up to ZL15 or ZL16. Server-side rate limiting Excessive requests may be throttled by imagery providers, affecting both real-time and prefetch downloads. Memory usage Higher zoom levels and extensive prefetching increase memory usage. Monitor system RAM on limited systems."},{"location":"performance/#native-pipeline-architecture","title":"Native Pipeline Architecture","text":"<p>AutoOrtho includes a high-performance native pipeline (<code>aopipeline</code>) written in C that bypasses Python's Global Interpreter Lock (GIL) for CPU-intensive operations. This provides 10-20x faster DDS texture building compared to the Python-only path.</p>"},{"location":"performance/#why-native-code","title":"Why Native Code?","text":"<p>Python's GIL (Global Interpreter Lock) prevents true multi-threading for CPU-bound work. Even with multiple Python threads, only one can execute Python bytecode at a time. This caused stutters when multiple DDS textures needed to be built simultaneously.</p> <p>The native pipeline solves this by: 1. Moving CPU-intensive work entirely to C code 2. Using OpenMP for true parallel execution across all CPU cores 3. Calling into Python only for orchestration, not computation</p>"},{"location":"performance/#components","title":"Components","text":"<p>The native pipeline consists of four modules:</p> Module Purpose Parallelism AoCache Batch file I/O for cached JPEGs OpenMP parallel reads AoDecode JPEG decoding via TurboJPEG OpenMP parallel decodes AoDDS DDS texture building with ISPC compression OpenMP parallel compression AoHttp HTTP downloads via libcurl Connection pooling, HTTP/2"},{"location":"performance/#how-it-works_2","title":"How It Works","text":"<p>When X-Plane requests a tile, AutoOrtho's native pipeline:</p> <ol> <li>Batch reads all cached JPEG chunks in parallel (256 files for ZL16)</li> <li>Batch decodes all JPEGs using thread-local TurboJPEG handles</li> <li>Composes the full tile image using SIMD-optimized operations</li> <li>Compresses each DDS mipmap level in parallel using ISPC</li> <li>Returns the complete DDS to Python for serving to X-Plane</li> </ol> <p>All steps happen in native C threads, completely bypassing the Python GIL.</p>"},{"location":"performance/#performance-impact","title":"Performance Impact","text":"Metric Python-Only Native Pipeline Improvement Cache read (256 files) 500ms 50ms 10x JPEG decode (256 chunks) 800ms 100ms 8x DDS compression 1000ms 80ms 12x Total tile build 2.5s ~260ms ~10x"},{"location":"performance/#configuration_1","title":"Configuration","text":"<pre><code>[autoortho]\n# Maximum threads for native pipeline (0 = auto from CPU cores)\n# Controls parallelism for cache I/O, JPEG decoding, and DDS compression\n# Set to 1 for single-threaded mode (lowest CPU, slowest builds)\nnative_pipeline_threads = 0\n\n# Disk-based DDS cache size in MB (0 = disabled)\n# Uses temp directory, auto-cleaned on session end\nephemeral_dds_cache_mb = 4096\n</code></pre>"},{"location":"performance/#thread-configuration","title":"Thread Configuration","text":"Value Behavior 0 (default) Auto-detect CPU cores, use all available 1 Single-threaded (useful for debugging or very low-end CPUs) N Limit to N threads (balance performance vs other applications)"},{"location":"performance/#ephemeral-dds-cache","title":"Ephemeral DDS Cache","text":"<p>The native pipeline includes an ephemeral disk cache for pre-built DDS textures:</p> <ul> <li>Memory tier: Fast access for recently used tiles (configurable, default 512MB)</li> <li>Disk tier: Overflow storage in temp directory (configurable, default 4GB)</li> <li>Auto-cleanup: Disk cache is deleted when AutoOrtho exits</li> </ul> <p>This hybrid approach provides: - \u2705 Large cache capacity without permanent disk usage - \u2705 Fresh tiles every session (no stale/corrupted cache) - \u2705 Settings changes take effect immediately (no cache invalidation needed)</p>"},{"location":"performance/#native-http-client","title":"Native HTTP Client","text":"<p>The native HTTP client uses libcurl's multi-interface for high-performance chunk downloads:</p> Feature Benefit Connection pooling Reuses TCP connections across requests HTTP/2 multiplexing Multiple requests over single connection Batch processing Amortizes Python overhead across 64 chunks Parallel downloads True concurrent I/O, not GIL-limited <p>This is especially impactful during initial loading when 100,000+ chunk requests are queued.</p>"},{"location":"performance/#important-caveats","title":"Important Caveats","text":""},{"location":"performance/#apple-maps-fallback","title":"Apple Maps Fallback","text":"<p>Apple Maps (<code>APPLE</code> imagery source) always uses the Python HTTP client, not the native client. This is intentional because:</p> <ol> <li>Dynamic token: Apple requires a session-specific access token obtained via DuckDuckGo proxy</li> <li>Token rotation: On 403/410 errors, the token must be refreshed and the request retried</li> <li>Complex logic: The Python path handles all this special authentication flow</li> </ol> <p>Impact: Apple Maps downloads may be slightly slower than other sources, but all retry logic and token handling works correctly.</p> <pre><code># Native HTTP path (fast):\nBI, EOX, ARC, NAIP, USGS, FIREFLY, YNDX, GO2 \u2192 libcurl \u2192 parallel downloads\n\n# Python fallback path (full features):\nAPPLE \u2192 requests library \u2192 token rotation on 403/410\n</code></pre>"},{"location":"performance/#platform-support","title":"Platform Support","text":"<p>The native pipeline requires compiled libraries for each platform:</p> Platform Library Status macOS (ARM64) <code>libaopipeline.dylib</code> \u2705 Included macOS (x86_64) <code>libaopipeline.dylib</code> Build from source Linux (x64) <code>libaopipeline.so</code> Build from source Windows (x64) <code>aopipeline.dll</code> Build from source <p>If the native library is not available for your platform, AutoOrtho automatically falls back to the Python implementation.</p>"},{"location":"performance/#fallback-behavior_2","title":"Fallback Behavior","text":"<p>The native pipeline gracefully falls back to Python when: - Native library is not available or fails to load - Apple Maps source is used (token handling) - Transient HTTP errors need sophisticated retry logic - Chunk downloads fail and need server rotation</p> <p>You'll see log messages indicating which path is used:</p> <pre><code>INFO: Using NativeChunkGetter (32 connections)\nINFO: Native HTTP client available: 1.0.0\n</code></pre> <p>Or for fallback:</p> <pre><code>INFO: Using Python ChunkGetter (32 workers)\nDEBUG: Native HTTP client library not available, using Python requests fallback\n</code></pre>"},{"location":"performance/#troubleshooting","title":"Troubleshooting","text":""},{"location":"performance/#long-x-plane-loading-times","title":"Long X-Plane Loading Times","text":"<p>If X-Plane takes significantly longer to load scenery with AutoOrtho enabled, the most common cause is the \"Allow extra loading time during startup\" setting (<code>suspend_maxwait</code>). This option extends timeout values by 10\u00d7 during initial scenery loading, which can add substantial time to X-Plane's startup.</p> <p>To reduce loading times:</p> <ol> <li>Go to Settings \u2192 Advanced Settings</li> <li>Set \"Allow extra loading time during startup\" to Off</li> <li>This will use normal time budgets during startup, resulting in faster loads</li> </ol> <p>Note: Disabling this may result in some tiles loading at lower quality initially, but they will reload at full quality as you fly.</p>"},{"location":"performance/#other-common-issues","title":"Other Common Issues","text":"<p>See the FAQ for common issues related to: - Missing color (green) tiles - Long loading times - In-flight stuttering</p>"},{"location":"scenery/","title":"Scenery Setup","text":""},{"location":"scenery/#using-provided-sceneries","title":"Using provided sceneries","text":"<p>IMPORTANT</p> <p>The scenery packs provided with this tool that you download should be setup via the configuration utility.  This does more than simply download and extract the files.</p> <p>If you do wish to manaually manipulate these scenery packs, you should review the source code (downloader.py in particular) and understand how symlinks and/or junctions work and the limitations of each.</p> <p>If you manually move things around outside of the configuration utility, things very well might break!</p> <p>IMPORTANT</p>"},{"location":"scenery/#configuring-scenery_packsini","title":"Configuring scenery_packs.ini","text":"<p>Any scenery added to XPlane requires being setup in the scenery_packs.ini file located in your installs 'Custom Scenery' directory.</p> <p>This file is order dependent where higher priority layers are towards the top of the file and lower priority items are towards the bottom.</p> <p>On initial run of XPlane after installing new scenery, these layers will automatically be added to your scenery_packs.ini file, but likely in an incorrect location.</p> <p>This can result in strange issues, such as having no roads, buildings, or trees when flying with XPlane.  If this is the case, double check the order of files in scenery_packs.ini.</p> <p>This tool will download and setup numerous directories in your 'Custom Scenery' folder of the form:  <code>z_ao_&lt;short name of scenery pack&gt;</code> and a directory named <code>yAutoOrtho_Overlays</code>.  Typically these should be listed towards the bottom of your scenery_packs.ini file:</p> <pre><code>Landmarks, airports, etc\nsimHeaven, special layers, etc\nyAutoOrtho_Overlays\nz_ao_aus_pac\nz_ao_eur\nz_ao_na\nz_autoortho\nzzz_global_scenery\n</code></pre>"},{"location":"scenery/#installing-in-custom-directories","title":"Installing in custom directories","text":"<p>It is possible to install scenery into directories other than X-Plane's Custom Scenery directory.  </p> <p>You should have a good understanding of how X-Plane handles custom scenery before attempting this!</p> <ol> <li>This will require that you configure AutoOrtho to point the 'Custom Scenery' setting to this alternative directory.</li> <li>Setup and install scenery as per normal.  Run the program at least once to    create the mount points.  You should see folder that correspond to the    installed packages now in the alternative directory that was setup.  The    format will look like <code>z_ao_XXXX</code></li> <li>You will then need to manually link each of the resulting mount directories to X-Planes's origin Custom Scenery dir.    On Linux you can use a symlink.  On Windows you can create a shortcut.</li> <li>Make sure Autoortho is running and start X-Plane.  Double check your    <code>scenery_packs.ini</code> file to assure the directories are seen.</li> </ol>"}]}